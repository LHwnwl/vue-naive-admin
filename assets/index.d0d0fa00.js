var p=(u,c,a)=>new Promise((l,o)=>{var d=e=>{try{r(a.next(e))}catch(s){o(s)}},i=e=>{try{r(a.throw(e))}catch(s){o(s)}},r=e=>e.done?l(e.value):Promise.resolve(e.value).then(d,i);r((a=a.apply(u,c)).next())});import{n as v,f as m,Q as w,o as y,p as h,y as n,x,R as _,S as f,U as g}from"./vendor.9b72f3b9.js";import{_ as K,c as b,l as k,s as I}from"./index.a7cc519d.js";const $={class:"login-page"},S={class:"form-wrapper"},V={class:"title"},B={class:"form-item","mt-20":""},L=["onKeydown"],R={class:"form-item","mt-20":""},U=["onKeydown"],j={setup(u){const c="Vue Naive Admin",a=v(),l=m(a.currentRoute).query,o=w({name:"admin",password:123456}),d=b({prefixKey:"login_"}),i=d.get("loginInfo");i&&(o.value.name=i.name||"",o.value.password=i.password||"");function r(){return p(this,null,function*(){const{name:e,password:s}=o.value;if(!e||!s){$message.warning("\u8BF7\u8F93\u5165\u7528\u6237\u540D\u548C\u5BC6\u7801");return}try{$message.loading("\u6B63\u5728\u9A8C\u8BC1...");const t=yield k({name:e,password:s.toString()});t.code===0?($message.success("\u767B\u5F55\u6210\u529F"),d.set("loginInfo",{name:e,password:s}),I(t.data.token),l.redirect?a.push({path:"/redirect",query:l}):a.push("/")):$message.warning(t.message)}catch(t){$message.error(t.message)}})}return(e,s)=>(y(),h("div",$,[n("div",S,[n("h2",V,x(m(c)),1),n("div",B,[_(n("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.value.name=t),autofocus:"",type:"text",class:"input",placeholder:"username",onKeydown:g(r,["enter"])},null,40,L),[[f,o.value.name]])]),n("div",R,[_(n("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>o.value.password=t),type:"password",class:"input",placeholder:"password",onKeydown:g(r,["enter"])},null,40,U),[[f,o.value.password]])]),n("div",{class:"form-item","mt-20":""},[n("button",{class:"submit-btn",onClick:r},"\u767B\u5F55")])])]))}};var T=K(j,[["__scopeId","data-v-5c7583f8"]]);export{T as default};
